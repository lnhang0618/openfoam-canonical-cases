// -*- C++ -*-
// File generated by PyFoam - sorry for the ugliness
FoamFile
{
 version 2.0;
 format ascii;
 class dictionary;
 location "system";
 object controlDict;
}

startFrom       startTime;
startTime       0;
stopAt          endTime;
endTime         10000;
deltaT          1;
writeControl    timeStep;
writeInterval   10000;
purgeWrite      0;
writeFormat     ascii;
writePrecision  16;
writeCompression off;
timeFormat      general;
timePrecision   16;
runTimeModifiable true;

functions{
    wallShearStress1
    {
        type            wallShearStress;
        libs            ("libfieldFunctionObjects.so");
        writeControl    timeStep;
        writeInterval   10000;
        patches         (bottomWall topWall);
    }
}

// functions
// {
//     pGrad
//     {
//         type            grad;
//         libs            ("fieldFunctionObjects");
//         field           p;
//         result          pGrad;
//         executeControl  writeTime;  // 修改为writeTime
//         writeControl    writeTime;  // 修改为writeTime
//     }
//     // 原有函数对象保持不变
//     uTau
//     {
//         type            patchExpression;
//         patches         (bottomWall topWall);
//         outputControlMode timeStep;
//         outputInterval  1;
//         expression      "sqrt((nu+nut)*mag(snGrad(U)))";
//         verbose         yes;
//         writeStartTime  no;
//         accumulations   (average);
//     }
//     yPlus
//     {
//         type            patchExpression;
//         patches         (bottomWall topWall);
//         outputControlMode timeStep;
//         outputInterval  1;
//         expression      "dist()/nu*sqrt((nu+nut)*mag(snGrad(U)))";
//         verbose         yes;
//         writeStartTime  no;
//         accumulations   (average);
//     }
//     ReTau
//     {
//         type            patchExpression;
//         patches         (bottomWall topWall);
//         outputControlMode timeStep;
//         outputInterval  1;
//         expression      "sqrt((nu+nut)*mag(snGrad(U)))/nu";
//         verbose         yes;
//         writeStartTime  no;
//         accumulations   (average);
//     }
//     fieldAverage
//     {
//         type            fieldAverage;
//         libs            ("libfieldFunctionObjects.so");
//         enabled         yes;
//         writeControl    outputTime;
//         restartTime     1000;
//         fields
//         (
//             U
//             {
//                 mean        yes;
//                 prime2Mean  yes;
//                 base        time;
//             }
//             nut
//             {
//                 mean        yes;
//                 prime2Mean  no;
//                 base        time;
//             }
//             wallShearStress
//             {
//                 mean        yes;
//                 prime2Mean  yes;
//                 base        time;
//             }
//         );
//     }
// }

// // 确保加载必要库
// libs
// (
//     "libOpenFOAM.so"
//     "libsimpleFunctionObjects.so"
//     "libsimpleSwakFunctionObjects.so"
//     "libswakFunctionObjects.so"
//     "libWallModelledLES.so"
//     "libfieldFunctionObjects.so"  // 新增：支持压力梯度计算
// );